<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Rock-Paper-scissors</title>
        <link rel="stylesheet" href="style.css">
        <title>Cart Quantity</title>
        
    </head>
    <body>
        <p>Rock Paper Scissors</p>
        <button onclick="
            playgame('rock');
        ">Rock</button>

        <button onclick="
            playgame('paper')
        ">Paper</button>
        <button onclick="
        playgame('scissors');     
        ">Scissors</button>

        <p class="js-score"></p>

        <button onclick="
        score.wins -=score.wins 
        score.losses-=score.losses
        score.ties -=score.ties
         localStorage.removeItem('score')"
            >Reset</button>

        <script>
            // ADDING OBJECT(SCORE TO THE GAME) 
            let score = {
                wins: 0,
                losses:0,
                ties:0,
            }

                score = JSON.parse(localStorage.getItem('score'))
            // calling the updatescore function
            

               console.log(localStorage.getItem('score'));
               

                function playgame(playermove){ 
                    const randomNumber = Math.random();
                    let computerMove;

                    if(randomNumber >= 0 && randomNumber < 1/3){
                    computerMove ='rock'}
                    else if(randomNumber >= 1/3 && randomNumber < 2/3 ){
                    computerMove = 'paper'} 
                        else if (randomNumber >= 2/3 && randomNumber <1){
                        computerMove = 'scissors'
                    }
                    let result;
                if (playermove === 'paper'){
                     if (computerMove === 'rock') {
                    result = 'You win'
                } else if (computerMove === 'paper'){
                    result = 'Tie'
                } else if (computerMove === 'scissors'){
                    result = 'You lose'
                }   
            }
            else if(playermove === 'rock'){
                if (computerMove === 'rock') {
                    result = 'Tie'
                } else if (computerMove === 'paper'){
                    result = 'You lose'
                } else if (computerMove === 'scissors'){
                    result = 'You win'
                }
            }  
            else if (playermove === 'scissors'){
                if (computerMove === 'rock') {
                    result = 'You lose'
                } else if (computerMove === 'paper'){
                    result = 'You win'
                } else if (computerMove === 'scissors'){
                    result = 'Tie'
                }
            }
            // updating the score object
            if(result === 'You win'){
                score.wins +=1
            } else if(result === 'You lose'){
                score.losses +=1
            } else if (result === 'Tie'){
                score.ties +=1
            }

            //saving the score in a local storage 
            //NB:local storage only support strings so it has to be converted to strings by JSON
            localStorage.setItem('score', JSON.stringify(score));  

           
            
            
                    // Displaying the results and scores
                    alert(`computer chose ${computerMove} you chose ${playermove}. ${result}
                    Wins: ${score.wins}, Looses: ${score.losses}, Ties: ${score.ties}`);

            
                
        }

        </script>
        
    </body>
</html>